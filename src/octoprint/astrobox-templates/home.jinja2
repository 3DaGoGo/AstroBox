<div class="row">
	<div class="small-12 columns" align="center">
		<div class="design-file-upload">
			<span class="file-upload-button button success radius" style="margin-bottom: 10px">
				<i class="icon-upload-cloud-1"></i> Upload Design File
				<input class="file-upload" type="file" name="file" data-url="/api/cloud-slicer/upload">
			</span>
			<div class="progress file-upload-progress radius" style="display:none">
				<div class="meter" style="width: 0%"></div>
			</div>
		</div>
	</div>
	<div class="design-list small-12 columns">
		<h3 class="bold">Printable Files <i class="icon-refresh" title="Refresh"></i></h3>
		<div class="design-list-container"></div>
	</div>
</div>

<div id="printer-file-info" class="reveal-modal large" data-reveal>
	<div class="dlg-content"></div>
	<a class="close-reveal-modal">&#215;</a>
</div>

<script type="text/template" id="printerfile-info-template">
	<h2 class="bold"><%= p.name %></h2>
	<div class="reveal-content">
		<div class="row">
			<div class="small-12 medium-5 large-4 columns">
				<% if (p.image) { %>
					<div class="photo-container">
						<img src="<%= p.image%>"/>
					</div>
				<% } else { %>
					<i class="icon-picture"></i>
				<% } %>			
			</div>
			<div class="small-12 medium-7 large-8 columns">
				<div class="actions">
					<% if (p.local_filename) { %>
						<a href="#" onclick="home_delete_print_file_clicked(this, arguments[0])" data-id="<%= p.id %>">
							<i class="icon-trash with-separator" title="Remove from AstroBox"></i>
						</a>
						<a href="#" onclick="home_print_print_file_clicked(this, arguments[0])" data-id="<%= p.id %>">
							<i class="icon-print" title="Print"></i>
						</a>
					<% } else { %>
						<a href="#" onclick="home_download_print_file_clicked(this, arguments[0])" data-id="<%= p.id %>">
							<i class="icon-download-cloud" title="Download to AstroBox"></i>
						</a>
					<% } %>
				</div>
				<div class="print-settings">
					<a href="#" target="_astroprint">Airwolf 3D</a>
					/
					<a href="#" target="_astroprint">PLA</a>
					/
					Normal Quality
				</div>
				<div class="print-info">
					<b>Model Size:</b> <span class="hl"><%= p.info.size.x.toFixed(2) %></span> x <span class="hl"><%= p.info.size.y.toFixed(2) %></span> x <span class="hl"><%= p.info.size.z.toFixed(2) %></span> mm<br/>
					<b>Print Time:</b> <span class="hl"><%= time_format(p.info.print_time) %></span><br/>
					<b>Layer Height:</b> <span class="hl"><%= p.info.layer_height %></span> mm<br/>
					<b>Number of Layers:</b> <span class="hl"><%= p.info.layer_count %></span><br/>
					<b>Filament Used:</b> <span class="hl"><%= p.info.filament_volume.toFixed(2) %></span> mm<sup>3</sup>
				</div>
			</div>
		</div>
	</div>
</script>

<script type="text/template" id="design-list-template">
	<% if (print_files.length) { %>
		<% _.each(print_files, function(p, idx) { %>
			<div id="print-file-<%= p.id%>" class="row<%= idx % 2 ? ' dark' : '' %><%= p.local_filename ? '' : ' remote' %>" data-design-id="<%= p.design_id%>" data-printfile-id="<%= p.id %>">
				<div class="small-2 large-1 columns left-section" onclick="home_info_print_file_clicked(this, arguments[0])">
					<% if (p.thumb) { %>
						<div class="thumb-container">
							<img src="<%= p.thumb%>"/>
						</div>
					<% } else { %>
						<i class="icon-picture"></i>
					<% } %>
				</div>
				<div class="small-8 large-10 columns middle-section" onclick="home_info_print_file_clicked(this, arguments[0])">
					<h3 class="bold"> <%= p.name %></h3>
					<b><%= size_format(p.size) %></b> Â· <i class="icon-stopwatch" title="Print Time"></i> <%= time_format(p.info.print_time) %>
					<div class="progress round tiny" style="display:none">
						<div class="meter" style="width: 0%"></div>
					</div>
				</div>
				<div class="small-2 large-1 columns right-section">
					<div class="print-file-options">
						<% if (p.local_filename) { %>
							<a onclick="home_print_print_file_clicked(this, arguments[0])" data-filename="<%= p.local_filename %>">
								<i class="icon-print" title="Print"></i>
							</a>
						<% } else { %>
							<a href="#" onclick="home_download_print_file_clicked(this, arguments[0])" data-id="<%= p.id %>" >
								<i class="icon-download-cloud" title="Download to AstroBox"></i>
							</a>
						<% } %>
					</div>
				</div>
			</div>
		<% }); %>
	<% } else { %>
		<div class="empty panel radius" align="center">
			<i class="icon-inbox empty-icon"></i>
			Nothing here yet.
		</div>
	<% } %>
</script>