<script type="text/template" id="camera-watch-page-template">
	<div class="row large-collapse">
		<div class="small-12 columns title-heading">
			<h1 class="bold">Camera</h1>
		</div>
	</div>
<% if(this.cameraAvailable) {
	if(this.videoStreamingError){ %>
	<div>
		<%= this.videoStreamingError %>
	</div>
<% 	} else { %>
		<div class="row large-collapse">
			<div class="video">
				<div class="camera-view">
					<div class="row nowebrtc alert-box radius">
						<div class="large-3 large-centered columns show-for-large-up">
							<img class="sadmonkey" src="static/img/sadmonkey-2.png"/>
						</div>
						<div class="small-12 columns text-center">
							<b>Oops!</b>, Looks like Streaming Video is incompatible with your browser. Download one of these great browsers and you'll be monitoring your 3D Printer with streaming video in no time!
							<ul class="small-block-grid-1 large-block-grid-3 browser-links">
								<li>
									<a href="https://www.google.com/chrome/" class="bold" target="_blank">
										<img src="static/img/chrome-icon.png"/><br>
										<b>Chrome</b><br>
									</a>
								</li>
								<li>
									<a href="https://www.mozilla.org/en-US/firefox/new/" class="bold" target="_blank">
										<img src="static/img/firefox-icon.png"/><br>
										<b>Firefox</b><br>
									</a>
								</li>
								<li>
									<a href="http://www.opera.com/" class="bold" target="_blank">
										<img src="static/img/opera-icon.png"/><br>
										<b>Opera</b><br>
									</a>
								</li>
							</ul>
						</div>
					</div>
					<div class="row error alert-box radius">
						<div class="small-12 large-9 columns">
							<b>Oops!</b>, There is currently an error with Streaming Video.<br>
							 <p><b>A few things to try:</b> Check the connection from your AstroBox to your camera, reboot your AstroBox, or return to your <a href="#" ><b>Dashboard</b></a> and try again later.</p>
						</div>
						<div class="large-3 columns show-for-large-up">
							<img src="static/img/sadmonkey-2.png"/>
						</div>
					</div>
					<div class="image-container">
						<% if(this.cameraMode == 'video') { %>
							<div class="row video-container">
								<div class="small-12 columns text-center">
									<div class="video-off">
										<i class="icon-videocam-1"></i>
										<h3 class="bold">Video Stream Off</h3>
									</div>
									<div class="video-preparing">
										<i class="icon-rocket-spinner animate-spin"></i>
										<h3 class="bold">Preparing Video...</h3>
									</div>
								</div>
								<div id="videoScreen" class="video-on">
									<video id="remotevideo" class="cover-img-cont" autoplay="" width="968">
										You browser doesn't support element <code>video</code>.
									</video>
								</div>
							</div>
						<% } else { %>
							<div class="row video-container">
								<div class="small-12 columns text-center">
									<div class="video-off">
										<i class="icon-3d-object"></i>
										<img class="camera-image" width="100%"/>
									</div>
								</div>
							</div>
						<% } %>
					</div>
					<div class="row buttons text-center">
						<div class="small-12 large-3 columns show-for-large-up">&nbsp;</div>
						<% if(this.cameraMode == 'video') { %>
							<div class="small-8 large-6 columns video-off">
								<button class="success radius bold"><i class="icon-videocam-1"></i><span class="hide-for-small">Start Streaming Video</span></button>
							</div>
							<div class="small-8 large-6 columns video-on">
								<button class="secondary radius bold"><i class="icon-stop"></i><span class="hide-for-small">Stop Streaming Video</span></button>
							</div>
						<% } else { %>
							<div class="small-8 large-6 columns video-off">
								<div class="loading-button">
									<button class="photo radius bold"><i class="icon-camera"></i><span class="hide-for-small">Take Photo</span></button>
									<span class="loading button disabled radius"><i class="icon-rocket-spinner animate-spin"></i> Taking photo...</span>
								</div>
							</div>
						<% } %>
						<div id="camera-mode-slider" class="small-4 large-3 columns camera-mode" align="right">
							<p>
								<i class="icon-picture-1"></i>
								<i class="icon-videocam-1"></i>
							</p>
							<div class="switch radius">
								<input id="camera-mode" name="camera-mode" type="checkbox" value="yes" <% if(this.cameraMode == 'video') { %> checked <% } %>>
								<label for="camera-mode"></label>
							</div>
						</div>
					</div>
				</div>		
			</div>
		</div>
	<% } %>
<% } else { %>
	<div>
		No Camera Detected
	</div>
<% } %>
</script>
